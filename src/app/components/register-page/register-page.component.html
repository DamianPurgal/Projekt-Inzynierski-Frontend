<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Secular+One&display=swap" rel="stylesheet">

<div class="main-container">
  <app-navbar-transparent></app-navbar-transparent>

  <div class="register-panel">

    <div class="title-container">
      <div class="register-text" *ngIf="!isLoading">Register</div>
      <mat-spinner *ngIf="isLoading" class="loading-icon" [@enterAnimation] [diameter]="50"></mat-spinner>
    </div>

    <form [formGroup]="registerForm">
      <div class="form-content">
        <mat-form-field appearance="outline" class="form-input">
          <mat-label>Email</mat-label>
          <input type="email" matInput placeholder="exampleEmail@gmail.com" formControlName="username" #usernameInput autocomplete="off">
          <mat-icon matSuffix style="color: #673ab7;">alternate_email</mat-icon>
          <mat-error *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-input">
          <mat-label>Password</mat-label>
          <input type="password" matInput placeholder="examplepassword123" formControlName="password" #passwordInput autocomplete="off">
          <mat-icon matSuffix style="color: #673ab7;">lock</mat-icon>
          <mat-error *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            Please enter a valid password. min. 5 symbols, max. 50 symbols
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-input">
          <mat-label>Firstname</mat-label>
          <input matInput placeholder="Damian" formControlName="firstname" #firstnameInput autocomplete="off">
          <mat-icon matSuffix style="color: #673ab7;">edit</mat-icon>
          <mat-error>
            Firstname cannot be empty
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-input">
          <mat-label>Lastname</mat-label>
          <input matInput placeholder="Purgal" formControlName="lastname" #lastnameInput autocomplete="off">
          <mat-icon matSuffix style="color: #673ab7;">edit</mat-icon>
          <mat-error>
            Lastname cannot be empty
          </mat-error>
        </mat-form-field>
      </div>

      <div class="buttons-container">
        <button class="button" (click)="registerUser()" [disabled]="registerForm.invalid">REGISTER</button>
      </div>
      <!-- <div class="buttons">
          <span class="link-text" routerLink="/login" routerLinkActive="active" ariaCurrentWhenActive="page">&#60;&#60; Login</span>
        <span class="spacer"></span>
          <button mat-raised-button color="primary" class="button" (click)="registerUser()" [disabled]="registerForm.invalid">Register</button>
      </div> -->
    </form>

    <div class="login-container">
      <div>already have an account?</div>
      <div class="login" routerLink="/login" routerLinkActive="active" ariaCurrentWhenActive="page">LOGIN</div>
    </div>
  </div>
</div>
